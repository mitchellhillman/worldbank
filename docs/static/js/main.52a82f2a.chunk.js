(this.webpackJsonpworldbank=this.webpackJsonpworldbank||[]).push([[0],{47:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),o=n(7),s=n(5),u=(n(47),n(116)),l=n(22),j=n(114),d=n(117),b=n(113),h=n(118),f=n(121),p=n(119),O=n(112),m=n(120),v=n(115),x=n(2),g=function(e,t){var n=e.filter((function(e){return e[t]})).map((function(e){return Number.parseInt(e[t])}));return[Math.min.apply(Math,Object(o.a)(n)),Math.max.apply(Math,Object(o.a)(n))]},y=function(e,t){var n,a=null===(n=e.filter((function(e){return Number.parseInt(e.year)===Number.parseInt(t)}))[0])||void 0===n?void 0:n.data;return a?a.toFixed(2):void 0},k=Object(l.a)(Object(l.a)({},O.b),{},{borderRadius:0,boxShadow:"none"}),w=Object(m.a)((function(e){var t,n,a=e.climateData,r=e.GDP,c=e.height,i=e.hideTooltip,o=e.showTooltip,s=e.tooltipData,u=e.tooltipLeft,l=e.tooltipOpen,m=e.tooltipTop,w=e.width,D=e.yearRange,M="#00aaff",S=Object(v.a)({domain:D,range:[0,w]}),T=Object(v.a)({domain:g(r,"value"),range:[c,40]}),P=Object(v.a)({domain:D,range:[0,w]}),N=Object(v.a)({domain:g(a,"data"),range:[c,0]});return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("svg",{width:w,height:c,children:Object(x.jsxs)(b.a,{children:[r.filter((function(e){return e.value})).map((function(e){var n=e.date,r=e.value,s=c-T(r),u=w/(S.domain()[1]-S.domain()[0])-2;return r&&Object(x.jsx)(j.a,{x:S(n),y:c-s-40,width:u,height:s,fill:"#bbe5fa",onMouseMove:function(){t&&clearTimeout(t),o({tooltipData:{avgTemp:y(a,n),year:n,GDP:r},tooltipTop:c-s-40,tooltipLeft:S(n)})},onMouseLeave:function(){t=window.setTimeout((function(){i()}),300)}},"bar-".concat(r))})),Object(x.jsx)(p.a,{id:"marker-circle",fill:M,size:1.5,refX:2}),Object(x.jsx)(d.a,{curve:f.a,data:a,left:0,x:function(e){var t=e.year;return P(t)},y:function(e){var t=e.data;return N(t)+100},stroke:M,strokeWidth:2,markerEnd:"url(#marker-circle)"}),Object(x.jsx)(h.a,{top:c-30,left:0,scale:S,stroke:"#000",strokeWidth:2,tickStroke:"#000",tickFormat:function(e){return e},tickLabelProps:function(){return{fill:"#000",fontSize:10,fontFamily:"Inter",textAnchor:"end",dy:"0.33em"}}})]})}),l&&s&&Object(x.jsxs)(O.a,{top:m,left:u,style:k,children:[Object(x.jsx)("div",{children:Object(x.jsx)("strong",{children:s.year})}),Object(x.jsx)("div",{children:(n=s.GDP,"GDP $"+(n/1e11).toFixed(2)+"bln.")}),s.avgTemp&&Object(x.jsx)("div",{children:s.avgTemp+"C"})]})]})}));var D=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("USA"),i=Object(s.a)(c,2),l=i[0],j=i[1],d=Object(a.useState)("1980"),b=Object(s.a)(d,2),h=b[0],f=b[1],p=Object(a.useState)("2012"),O=Object(s.a)(p,2),m=O[0],v=O[1],g=Object(a.useState)([]),y=Object(s.a)(g,2),k=y[0],D=y[1],M=Object(a.useState)([]),S=Object(s.a)(M,2),T=S[0],P=S[1];Object(a.useEffect)((function(){fetch("https://api.worldbank.org/v2/country?format=json&per_page=500").then((function(e){return e.json()})).then((function(e){r(e[1])}))}),[]),Object(a.useEffect)((function(){l&&fetch("https://api.worldbank.org/v2/country/"+l+"/indicator/NY.GDP.MKTP.CD?format=json").then((function(e){return e.json()})).then((function(e){D(e[1])}))}),[l]),Object(a.useEffect)((function(){l&&fetch("http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/"+l+".json").then((function(e){return e.json()})).then((function(e){P(e)}))}),[l]);var N=function(e){var t=e.map((function(e){var t=e.date;return Number.parseInt(t)}));return[Math.min.apply(Math,Object(o.a)(t)),Math.max.apply(Math,Object(o.a)(t))]};return Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)("h1",{children:"Climate and GDP Trends"}),Object(x.jsx)("p",{children:"Average temperature and GDP trends over time."}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{className:"screenreader",children:"Select Country"}),Object(x.jsx)("select",{onChange:function(e){j(e.target.value)},value:l,children:(null===n||void 0===n?void 0:n.length)?n.map((function(e){var t=e.id,n=e.name;return Object(x.jsx)("option",{value:t,children:n},t)})):Object(x.jsx)("option",{disabled:!0,children:"Loading\u2026"})})]}),k&&T?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w,{width:600,height:300,GDP:k,climateData:T,yearRange:[h,m]}),Object(x.jsx)("div",{className:"slider",children:Object(x.jsx)(u.a,{value:[h,m],onChange:function(e,t){f(t[0]),v(t[1])},min:N(k)[0],max:N(k)[1]})})]}):Object(x.jsx)("p",{className:"loading",children:"Loading\u2026"})]})};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.52a82f2a.chunk.js.map